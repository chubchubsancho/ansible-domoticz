---
- name: "install packages on debian based systems"
  apt:
    name: "{{ domoticz_prerequisites }}"
    state: present
    update_cache: true
  tags:
    - domoticz
    - installation
    - prerequisites
  when: ansible_os_family == 'Debian'
  
- name: "install packages on redhat based systems"
  yum:
    name: "{{ domoticz_prerequisites }}"
    state: present
    update_cache: true
  when: ansible_os_family == 'RedHat'
  tags:
    - domoticz
    - installation
    - prerequisites